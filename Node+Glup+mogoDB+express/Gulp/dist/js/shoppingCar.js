"use strict";$(function(){function e(){var e=0;$(".j-checkbox:checked").each(function(t,c){e+=parseInt($(c).parent().siblings(".p-num").find(".itxt").val())}),$(".amount-sum em").html(e)}function i(){var e=0;$(".j-checkbox:checked").each(function(t,c){e+=parseFloat($(c).parent().siblings(".p-sum").html().substr(1))}),$(".price-sum em").html("￥"+e.toFixed(2))}e(),i(),$(".checkall").change(function(){$(".j-checkbox,.checkall").prop("checked",$(this).prop("checked")),$(this).prop("checked")?$(".cart-item").addClass("check-cart-item"):$(".cart-item").removeClass("check-cart-item"),e(),i()}),$(".j-checkbox").change(function(){$(".j-checkbox:checked").length===$(".j-checkbox").length?$(".checkall").prop("checked",!0):$(".checkall").prop("checked",!1),$(this).prop("checked")?$(this).parents(".cart-item").addClass("check-cart-item"):$(this).parents(".cart-item").removeClass("check-cart-item"),e(),i()}),$(".increment").click(function(){var t=$(this).siblings(".itxt").val();t++,$(this).siblings("input").val(t);var c=$(this).parents(".p-num").siblings(".p-price").html();c=c.substr(1)*t,$(this).parents(".p-num").siblings(".p-sum").html("￥"+c.toFixed(2)),e(),i()}),$(".decrement").click(function(){var t=$(this).siblings(".itxt").val();if(1==t)return!1;t--,$(this).siblings("input").val(t);var c=$(this).parents(".p-num").siblings(".p-price").html();c=c.substr(1)*t,$(this).parents(".p-num").siblings(".p-sum").html("￥"+c.toFixed(2)),e(),i()}),$(".itxt").change(function(){var t=$(this).val(),c=$(this).parents(".p-num").siblings(".p-price").html();c=c.substr(1)*t,$(this).parents(".p-num").siblings(".p-sum").html("￥"+c.toFixed(2)),e(),i()}),$(".p-action").click(function(){$(this).parent().remove(),e(),i()}),$(".remove-batch").click(function(){$(".j-checkbox:checked").parents(".cart-item").remove(),e(),i()}),$(".clear-all").click(function(){$(".cart-item").remove(),e(),i()})});